<ion-header>
  <ion-navbar>
    <ion-title>
      Contracts
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-row>
    <ion-col col-8 text-left>
      <ion-label float-left>To Date: </ion-label>
      <ion-datetime style="padding-top: 13px;" displayFormat="MM/DD/YYYY" pickerFormat="MM/DD/YYYY" [(ngModel)]="toDate"></ion-datetime>
    </ion-col>
    <ion-col col-4 text-right>
      <button small color="secondary" ion-button round padding (click)="onSearch()">Search</button>
    </ion-col>
  </ion-row>

  <ion-list>
    <button ion-item *ngFor="let c of _contracts" [style.color]="c.canAddClaim? 'inherits':'red'"
            (click)="addClaim(c)" [attr.detail-none]="c.canAddClaim ? null: ''">
      <div>
        <b>{{c.PolicyNumber}}</b> - {{c.ContractDate}} ({{c.Status}})
      </div>
      <div padding>
        <div style="font-size: 15px" text-wrap>{{c.ProductCode}}</div>
        <div style="font-size: 15px">Dealer: {{c.DealerName}}</div>
        <div style="font-size: 15px">Customer: {{c.CustomerName}}</div>
        <div style="font-size: 15px">Vehicle: {{c.VehicleDesc}}</div>
      </div>
    </button>
  </ion-list>

  <ion-infinite-scroll (ionInfinite)="scroll($event)">
    <ion-infinite-scroll-content>Loading...</ion-infinite-scroll-content>
  </ion-infinite-scroll>
</ion-content>


