<ion-header>
  <ion-navbar>
    <ion-title>
      Add Claim - #{{contract.PolicyNumber}}
    </ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-row>
    <ion-col text-wrap bold><b>{{contract.ProductCode}}</b></ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-3>Date: </ion-col>
    <ion-col col-3>{{contract.ContractDate}}</ion-col>
    <ion-col col-3>Status: </ion-col>
    <ion-col col-3>{{contract.Status}}</ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-3>Dealer: </ion-col>
    <ion-col col-9>{{contract.DealerName}}</ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-3>Customer: </ion-col>
    <ion-col col-9>{{contract.CustomerName}}</ion-col>
  </ion-row>
  <ion-row>
    <ion-col col-3>Vehicle: </ion-col>
    <ion-col col-9>{{contract.VehicleDesc}}</ion-col>
  </ion-row>

  <form autocomplete="off" #form="ngForm">
    <ion-item>
      <ion-input id="mile" name="mile" placeholder="Enter Mileage"
                 type="number" required [(ngModel)]="claim.mileage">
      </ion-input>
    </ion-item>

    <ion-item>
      <ion-datetime id="failureDate" name="failureDate" placeholder="Failure Date"
                    displayFormat="MM/DD/YYYY" pickerFormat="MM/DD/YYYY"
                    required [(ngModel)]="claim.failureDate">
      </ion-datetime>
    </ion-item>

    <ion-card *ngIf="image">
      <img [src]="DomSanitizer.bypassSecurityTrustUrl(image)" height="200">
    </ion-card>

    <ion-row>
      <ion-col col-6>
        <button ion-button type="button" (click)="takePicture()">
          <ion-icon name="camera"></ion-icon>&nbsp;&nbsp;Take picture
        </button>
      </ion-col>
      <ion-col col-6 text-right>
        <button ion-button color="dark" type="button" [disabled]="!form.form.valid" (click)="addClaim(form)">
          Add Claim&nbsp;&nbsp;<ion-icon name="sad"></ion-icon>
        </button>
      </ion-col>
    </ion-row>
  </form>

  <hub-footer></hub-footer>
</ion-content>


